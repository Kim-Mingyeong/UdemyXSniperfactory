{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nconst socket = io(\"http://localhost:3001\"); // 서버의 URL에 맞게 변경\nconst MESSAGE = \"message\";\nexport default function UseChat() {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  useEffect(() => {\n    socket.on(MESSAGE, handleMessage);\n    return () => {\n      socket.off(MESSAGE, handleMessage);\n    };\n  }, []);\n  const handleMessage = message => {\n    setMessages(prevMessages => [...prevMessages, message]);\n  };\n  const handleUsernameChange = e => {\n    setUsername(e.target.value);\n  };\n  const handleTextChange = e => {\n    setInputValue(e.target.value);\n  };\n  const handleMessageSend = () => {\n    if (inputValue.trim() !== \"\") {\n      const currentTime = new Date().toLocaleTimeString();\n      socket.emit(\"message\", {\n        username,\n        content: inputValue,\n        time: currentTime\n      });\n      setInputValue(\"\");\n    }\n  };\n  return {\n    username,\n    handleUsernameChange,\n    inputValue,\n    handleTextChange,\n    messages,\n    handleMessageSend\n  };\n}\n_s(UseChat, \"3GjZOP7lh1T0LbrIQWMDIIWKWxQ=\");\n_c = UseChat;\nvar _c;\n$RefreshReg$(_c, \"UseChat\");","map":{"version":3,"names":["React","useState","useEffect","io","socket","MESSAGE","UseChat","_s","username","setUsername","messages","setMessages","inputValue","setInputValue","on","handleMessage","off","message","prevMessages","handleUsernameChange","e","target","value","handleTextChange","handleMessageSend","trim","currentTime","Date","toLocaleTimeString","emit","content","time","_c","$RefreshReg$"],"sources":["/Users/KimDaeHee_off/Documents/[유데미x스나이퍼팩토리] 10주 완성-프로젝트 캠프 React/Assn./UdemyXSniperfactory/movies-app/src/hooks/useChat.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\n\nconst socket = io(\"http://localhost:3001\"); // 서버의 URL에 맞게 변경\nconst MESSAGE = \"message\";\n\nexport default function UseChat() {\n  const [username, setUsername] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n\n  useEffect(() => {\n    socket.on(MESSAGE, handleMessage);\n    return () => {\n      socket.off(MESSAGE, handleMessage);\n    };\n  }, []);\n\n  const handleMessage = (message) => {\n    setMessages((prevMessages) => [...prevMessages, message]);\n  };\n\n  const handleUsernameChange = (e) => {\n    setUsername(e.target.value);\n  };\n\n  const handleTextChange = (e) => {\n    setInputValue(e.target.value);\n  };\n\n  const handleMessageSend = () => {\n    if (inputValue.trim() !== \"\") {\n      const currentTime = new Date().toLocaleTimeString();\n      socket.emit(\"message\", {\n        username,\n        content: inputValue,\n        time: currentTime,\n      });\n      setInputValue(\"\");\n    }\n  };\n\n  return {\n    username,\n    handleUsernameChange,\n    inputValue,\n    handleTextChange,\n    messages,\n    handleMessageSend,\n  };\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,EAAE,MAAM,kBAAkB;AAEjC,MAAMC,MAAM,GAAGD,EAAE,CAAC,uBAAuB,CAAC,CAAC,CAAC;AAC5C,MAAME,OAAO,GAAG,SAAS;AAEzB,eAAe,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAChC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAEhDC,SAAS,CAAC,MAAM;IACdE,MAAM,CAACU,EAAE,CAACT,OAAO,EAAEU,aAAa,CAAC;IACjC,OAAO,MAAM;MACXX,MAAM,CAACY,GAAG,CAACX,OAAO,EAAEU,aAAa,CAAC;IACpC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,aAAa,GAAIE,OAAO,IAAK;IACjCN,WAAW,CAAEO,YAAY,IAAK,CAAC,GAAGA,YAAY,EAAED,OAAO,CAAC,CAAC;EAC3D,CAAC;EAED,MAAME,oBAAoB,GAAIC,CAAC,IAAK;IAClCX,WAAW,CAACW,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAC7B,CAAC;EAED,MAAMC,gBAAgB,GAAIH,CAAC,IAAK;IAC9BP,aAAa,CAACO,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAC/B,CAAC;EAED,MAAME,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAIZ,UAAU,CAACa,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;MAC5B,MAAMC,WAAW,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,CAAC;MACnDxB,MAAM,CAACyB,IAAI,CAAC,SAAS,EAAE;QACrBrB,QAAQ;QACRsB,OAAO,EAAElB,UAAU;QACnBmB,IAAI,EAAEL;MACR,CAAC,CAAC;MACFb,aAAa,CAAC,EAAE,CAAC;IACnB;EACF,CAAC;EAED,OAAO;IACLL,QAAQ;IACRW,oBAAoB;IACpBP,UAAU;IACVW,gBAAgB;IAChBb,QAAQ;IACRc;EACF,CAAC;AACH;AAACjB,EAAA,CA5CuBD,OAAO;AAAA0B,EAAA,GAAP1B,OAAO;AAAA,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}